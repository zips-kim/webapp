<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì…ì†Œ ë“±ë¡ - {{ shelter_name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
	<script src="{{ url_for('static', filename='script.js') }}"></script>
	<style>
        .tab-btn {
            flex: 1; padding: 12px; border-radius: 8px; border: 2px solid #ddd;
            background: white; color: #666; font-weight: bold; cursor: pointer; transition: 0.2s;
        }
        .tab-btn.active {
            border-color: #3498db; background: #3498db; color: white;
        }
        .info-box {
            background: #fff4e6; padding: 15px; border-radius: 10px;
            border: 1px solid #ffd8a8; margin-bottom: 20px; display: none;
        }
    </style>
</head>
<body style="background-color: #f0f2f5; padding: 15px;">
    <div class="container" style="max-width: 500px; margin-top: 10px;">
        <div style="text-align: center; margin-bottom: 20px;">
            <h1 style="font-size: 24px;">ğŸ  {{ shelter_name }}</h1>
            <p style="color: #666;">ì…ì†Œë¥¼ ìœ„í•´ ì•„ë˜ ì •ë³´ë¥¼ ì •í™•íˆ ì…ë ¥í•´ ì£¼ì„¸ìš”.</p>
        </div>
		<!--
		<div style="margin-bottom: 30px; text-align: center;">
			<a href="/kakao/resident_login/{{ shelter_id }}" style="text-decoration: none;">
				<div style="
					background-color: #FEE500; 
					color: #191919; 
					padding: 15px 20px; 
					border-radius: 12px; 
					font-weight: bold; 
					display: flex; 
					align-items: center; 
					justify-content: center; 
					gap: 10px;
					box-shadow: 0 4px 6px rgba(0,0,0,0.1);
				">
					<img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png" 
						 style="width: 24px; height: 24px;">
					<span>ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ 3ì´ˆ ë§Œì— ì…ì¥í•˜ê¸°</span>
				</div>
			</a>
			<div style="margin-top: 10px; font-size: 0.8rem; color: #95a5a6;">
				(ì…ì†Œ ì•Œë¦¼ ë©”ì‹œì§€ê°€ ë°œì†¡ë©ë‹ˆë‹¤)
			</div>
		</div>
		-->

		<div style="text-align: center; margin-bottom: 15px; position: relative;">
			<hr style="border: 0; border-top: 1px solid #eee;">
			<span style="position: absolute; top: -10px; left: 50%; transform: translateX(-50%); background: white; padding: 0 10px; color: #aaa; font-size: 0.8rem;">ë˜ëŠ” ì§ì ‘ ì…ë ¥</span>
		</div>

        <div class="card" style="padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <form action="/add_resident" method="post">
				<div style="display: flex; gap: 10px; margin-bottom: 20px;">
					<button type="button" id="tabNew" class="tab-btn active" onclick="setRegMode('NEW')">ğŸ  ì„¸ëŒ€ì£¼ ë“±ë¡</button>
					<button type="button" id="tabJoin" class="tab-btn" onclick="setRegMode('JOIN')">ğŸ‘¨â€ğŸ‘©ê°€ì¡± í•©ë¥˜</button>
				</div>
			
				<div id="familyCodeArea" class="info-box">
                    <label style="font-weight: bold; display: block; margin-bottom: 5px;">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ê°€ì¡± ì¸ì¦ ì½”ë“œ</label>
                    <input type="text" name="parent_family_id" id="parentFamilyId" placeholder="ì„¸ëŒ€ì£¼ê°€ ë°›ì€ 6ìë¦¬ ì½”ë“œ ì…ë ¥" class="search-input" style="margin-bottom: 5px; width: 100%; box-sizing: border-box;">
                    <p style="font-size: 12px; color: #e67e22; margin: 0;">â€» ë¨¼ì € ì…ì†Œí•œ ì„¸ëŒ€ì£¼ì—ê²Œ ì½”ë“œë¥¼ í™•ì¸í•˜ì—¬ ì…ë ¥í•˜ì„¸ìš”.</p>
                </div>

                <input type="hidden" name="family_role" id="familyRole" value="ì„¸ëŒ€ì£¼">
                <input type="hidden" name="shelter_id" value="{{ shelter_id }}">
				
                <div style="margin-bottom: 15px;">
                    <label style="font-weight: bold; display: block; margin-bottom: 5px;">ì„±í•¨ (í•„ìˆ˜)</label>
                    <input type="text" name="name" placeholder="ì„±í•¨ì„ ì…ë ¥í•˜ì„¸ìš”" required class="search-input" style="margin-bottom: 0; width: 100%; box-sizing: border-box;">
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="font-weight: bold; display: block; margin-bottom: 5px;">ì—°ë½ì²˜</label>
                    <input type="text" name="phone" placeholder="ì˜ˆ: 010-1234-5678" class="search-input" style="margin-bottom: 0; width: 100%; box-sizing: border-box;">
                </div>

                <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                    <div style="flex: 1;">
                        <label style="font-weight: bold; display: block; margin-bottom: 5px;">ì„±ë³„</label>
                        <select name="gender" class="search-input" style="width: 100%; box-sizing: border-box;">
                            <option value="ë‚¨">ë‚¨ì„±</option>
                            <option value="ì—¬">ì—¬ì„±</option>
                        </select>
                    </div>
                    <div style="flex: 1;">
                        <label style="font-weight: bold; display: block; margin-bottom: 5px;">ìƒë…„ì›”ì¼</label>
                        <input type="text" name="age" placeholder="ì˜ˆ: 19900101" class="search-input" style="margin-bottom: 0; width: 100%; box-sizing: border-box;">
                    </div>
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="font-weight: bold; display: block; margin-bottom: 5px;">ì£¼ì†Œ (ìƒì„¸ ì£¼ì†Œ)</label>
                    <input type="text" name="village" placeholder="ì˜ˆ: ìœ ì„±êµ¬ ëŒ€í•™ë¡œ 99ë²ˆê¸¸" class="search-input" style="margin-bottom: 0; width: 100%; box-sizing: border-box;">
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="font-weight: bold; display: block; margin-bottom: 5px;">íŠ¹ì´ì‚¬í•­</label>
                    <textarea name="note" placeholder="ì§€ë³‘(ê³ í˜ˆì••, ë‹¹ë‡¨ ë“±), ì•ŒëŸ¬ì§€, í•„ìš”í•œ ë„ì›€ ë“±ì„ ì ì–´ì£¼ì„¸ìš”." style="width:100%; height:80px; padding:10px; border:2px solid #3498db; border-radius:8px; box-sizing: border-box; font-family: inherit;"></textarea>
                </div>
                
                <button type="submit" style="background:#27ae60; width:100%; padding:15px; font-size:18px; font-weight: bold; border: none; border-radius: 8px; color: white; cursor: pointer;">
                    ì…ì†Œ ë“±ë¡í•˜ê¸°
                </button>
            </form>
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <a href="/" style="color: #666; text-decoration: none; font-size: 14px;">ê´€ë¦¬ì í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>
        </div>
    </div>
	
	<script>
        function setRegMode(mode) {
            const familyCodeArea = document.getElementById('familyCodeArea');
            const addressArea = document.getElementById('addressArea');
            const familyRole = document.getElementById('familyRole');
            const submitBtn = document.getElementById('submitBtn');
            const tabNew = document.getElementById('tabNew');
            const tabJoin = document.getElementById('tabJoin');
            const parentFamilyId = document.getElementById('parentFamilyId');

            if (mode === 'JOIN') {
                familyCodeArea.style.display = 'block';
                addressArea.style.display = 'none'; // ê°€ì¡± í•©ë¥˜ ì‹œ ì£¼ì†Œ ì…ë ¥ ìƒëµ ê°€ëŠ¥ (ì„¸ëŒ€ì£¼ ë°ì´í„° í™œìš©)
                familyRole.value = 'ì„¸ëŒ€ì›';
                submitBtn.innerText = 'ê°€ì¡±ìœ¼ë¡œ ì…ì†Œí•˜ê¸°';
                submitBtn.style.background = '#3498db';
                tabJoin.classList.add('active');
                tabNew.classList.remove('active');
                parentFamilyId.required = true;
            } else {
                familyCodeArea.style.display = 'none';
                addressArea.style.display = 'block';
                familyRole.value = 'ì„¸ëŒ€ì£¼';
                submitBtn.innerText = 'ì„¸ëŒ€ì£¼ ë“±ë¡í•˜ê¸°';
                submitBtn.style.background = '#27ae60';
                tabNew.classList.add('active');
                tabJoin.classList.remove('active');
                parentFamilyId.required = false;
            }
        }
    </script>
</body>
</html>